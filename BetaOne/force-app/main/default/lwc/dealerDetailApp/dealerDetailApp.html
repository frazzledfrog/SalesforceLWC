<template>
    <lightning-card title="Dealer Detail Application">
        <div class="slds-p-around_medium">
            <lightning-combobox
                name="dealer"
                label="Select Dealer"
                value={selectedDealerId}
                options={dealerOptions}
                onchange={handleDealerChange}
            ></lightning-combobox>
        </div>
        <template if:true={selectedDealer}>
            <div class="slds-p-around_medium">
                <div class="summary-grid">
                    <div class="summary-item">
                        <p class="summary-label">Dealer</p>
                        <p class="summary-value">{selectedDealer.dealerName} - {selectedDealer.region}</p>
                    </div>
                    <div class="summary-item">
                        <p class="summary-label">Total Deals</p>
                        <p class="summary-value">{selectedDealer.totalDeals}</p>
                    </div>
                    <div class="summary-item">
                        <p class="summary-label">Total Financed</p>
                        <p class="summary-value">{formattedTotalFinanced}</p>
                    </div>
                </div>
                <div class="controls">
                    <lightning-combobox
                        name="timescale"
                        label="Timescale"
                        value={selectedMonths}
                        options={timescaleOptions}
                        onchange={handleTimescaleChange}
                    ></lightning-combobox>
                </div>
                <div class="chart-container">
                    <canvas class="chart-canvas"></canvas>
                </div>
            </div>
        </template>
    </lightning-card>
</template>
